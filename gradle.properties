#
# SPDX-License-Identifier: Apache-2.0
#
# Copyright 2020-2022 CROZ d.o.o, the original author or authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# suppress inspection "UnusedProperty" for whole file

# ====================
# Version declarations
# ====================
# Note: please keep versions list sorted alphabetically if possible and if makes sense.
# -----
# Gradle plugin versions - start
# -----
gradleEnterprisePluginVersion = 3.11.2
gradleJgitverPluginVersion = 0.9.1
gradleKordampPluginVersion = 0.47.0
gradleMicronautPlugin = 3.6.2
gradleTestRetryPluginVersion = 1.4.1
gradleShadowPlugin = 7.1.2

gradleSpockLibraryVersion = 2.3-groovy-3.0
# -----
# Gradle plugin versions - end
# -----
# Used 3rd party lib versions - start
# -----
archUnitVersion = 1.0.0

# Note: Axon BOM and Axon Framework versions do not necessarily match (axon-framework version: 4.6.1).
axonBomVersion = 4.6.1

# TODO dmurat: remove when tracing extension 4.6.1 will be included in the axon bom
axonExtensionTracingVersion = 4.6.1

# Note: this version of byte-buddy is used only for Micronaut platform plugin. It should not be used with modules depending on spring-bom.
byteBuddyVersion = 1.12.18

classGraphVersion = 4.8.149
codeNarcVersion = 3.1.0
#codeNarcJitpackVersion = 4e516637ee
dataSourceProxyVersion = 1.7
groovyVersion = 3.0.13
hibernateTypesVersion = 2.20.0
jacocoVersion = 0.8.8

# javaparser-core is a dependency of groovy-groovydoc, and its version should be updated each time when groovyVersion is updated.
javaparserCoreVersion = 3.24.2

jimfsVersion = 1.2
micronautVersion = 3.7.2
# Note: WireMock:2.34.x (2.34.0 at the time of writing) depends on slf4j:2.x (2.0.1 at the time of writing) that introduces a new mechanism for resolving slf4j bindings.
#       Since Micronaut still relies on the older (1.7.x) slf4j binding mechanics, we are constraining the version of slf4j dependencies.
micronautSlf4jVersion = [1.7.32, 1.8.0[
nrichVersion = 1.6.0

# This is Objenesis version distributed with Spock. If Spock is updated this version should be updated too. Unfortunately spock-bom does not include objenesis at the moment.
objenesisVersion = 3.3

openTracingSpringCloudVersion = 0.5.9
slf4jTestVersion = 1.2.0

springBootVersion = 2.7.5
# Note: ArchUnit:1.x (1.0.0 at the time of writing) depends on slf4j:2.x (2.0.3 at the time of writing), but that version does not work with Spring Boot apps yet.
#       Therefore, we are constraining slf4j version to the one used by Spring Boot BOM. When Spring Boot is updated, this version range should be checked too.
#       After upgrading to Spring Boot 3.x, this version and related Gradle constraint should be removed.
# TODO dmurat: remove after upgrading to Spring Boot 3
springBootSlf4jVersion = [1.7.36, 1.8.0[

# When updated, also update objenesisVersion above.
spockVersion = 2.3-groovy-3.0

testContainersVersion = 1.17.5

# uom - units of measurement - https://github.com/unitsofmeasurement
uomApiVersion = 2.1.3
uomReferenceImplementationVersion = 2.1.3

uuidCreatorVersion = 5.2.0
wavefrontSpringBootVersion = 2.3.0
wireMockVersion = 2.34.0
# -----
# Used 3rd party lib versions - end
# ====================

# ======================
# Docker images versions
# ======================
# Docker images versions are mainly used in Testcontainers integration tests.
# To work as expected, each Docker image version must have 'DockerImageVersion' suffix. Such versions are converted in system properties by Gradle build scripts.
axonServerDockerImageVersion = 4.6.4
cargotrackerBookingRdbmsManagementAppDockerImageVersion = 0.0.7-SNAPSHOT
cargotrackerBookingCommandSideAppDockerImageVersion = 0.0.7-SNAPSHOT
cargotrackerBookingProjectionRdbmsAppDockerImageVersion = 0.0.7-SNAPSHOT
cargotrackerBookingQuerySideViewAppDockerImageVersion = 0.0.7-SNAPSHOT
postgreSqlDockerImageVersion = 14.5
# ======================

# =========================================
# System properties for the entire project.
# =========================================
# On OSX, prevents showing up Java icon in the dock during executing Gradle tasks. This might occur when tasks initialize Java awt subsystem for some reason.
# Alternatively, if headless property shows up as too restrictive, one can use "systemProp.apple.awt.UIElement=true"
# https://mathematica.stackexchange.com/questions/141776/j-link-stealing-focus-from-the-front-end-on-os-x-workaround/141881#141881
systemProp.java.awt.headless = true
# =========================================

# =================
# Gradle properties
# =================
# Need to increase Gradle JVM memory a bit, since groovydoc tasks reports out of memory.
# Helpful documentation link: https://docs.gradle.org/current/userguide/build_environment.html#sec:configuring_jvm_memory
org.gradle.jvmargs = -Xmx2g -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
# =================
