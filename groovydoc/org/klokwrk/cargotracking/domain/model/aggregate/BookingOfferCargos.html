<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (4.0.21) on Sun Jun 09 14:04:33 UTC 2024 -->
    <title>BookingOfferCargos (klokwrk-project unspecified)</title>
    <meta name="date" content="2024-06-09">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="BookingOfferCargos (klokwrk-project unspecified)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../../index.html?org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferCargos" target="_top">Frames</a></li>
            <li><a href="BookingOfferCargos.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.klokwrk.cargotracking.domain.model.aggregate</strong></div>

    <h2 title="[Groovy] Class BookingOfferCargos" class="title">[Groovy] Class BookingOfferCargos</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.klokwrk.cargotracking.domain.model.aggregate.BookingOfferCargos
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>

<pre>@<a href='https://docs.groovy-lang.org/latest/html/api/groovy/transform/CompileStatic.html' title='CompileStatic'>CompileStatic</a>
class BookingOfferCargos
extends <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html' title='Object'>Object</a></pre>

    <p> Handles cargos at the <a href='../../../../../../org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferAggregate.html' title='BookingOfferAggregate'>BookingOfferAggregate</a> level, by encapsulating some invariant checks and keeping the internal <CODE>bookingOfferCargoCollection</CODE> consolidated.
 <p/>
 Equality of cargos in the context of a booking offer is defined by <CODE>BookingOfferCargoEquality</CODE>. Internal <CODE>bookingOfferCargoCollection</CODE> is consolidated when it contains only a single
 <CODE>Cargo</CODE> instance for corresponding <CODE>BookingOfferCargoEquality</CODE>. When adding or removing <CODE>Cargo</CODE> instances, internal <CODE>bookingOfferCargoCollection</CODE> has to be kept
 consolidated.
 <p/>
 For example, if we add multiple cargos with the same commodity type, container type, and requested storage temperature (those properties together define booking offer cargo equality),
 <CODE>BookingOfferCargos</CODE> will summarize all their weights inside a new booking offer cargo instance (this is a consolidated cargo instance) with the same commodity type, container type, and
 requested storage temperature. In the process, consolidated cargo will also contain correctly updated <CODE>maxRecommendedWeightPerContainerKg</CODE>, <CODE>containerCount</CODE>, and
 <CODE>containerTeuCount</CODE> properties.
 <p/>
 The new consolidated cargo instance will take <CODE>maxAllowedWeightPerContainer</CODE> of equivalent cargo instances that are just added (or removed) to the <CODE>BookingOfferCargos</CODE>. This means that
 old <CODE>maxAllowedWeightPerContainer</CODE> is dropped and forgotten.
 <p/>
 Why are we using cargo consolidation at all? In the context of a booking offer, we are not interested in multiple submissions of the equivalent cargos that are different only in their weight.
 Instead, we are consolidating all such requests with a single record of equivalent cargo with correctly summed up container weight and other derived properties like
 <CODE>maxRecommendedWeightPerContainerKg</CODE>, <CODE>containerCount</CODE>, and <CODE>containerTeuCount</CODE>.</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList"> 
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong><a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt;</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#bookingOfferCargoCollection">bookingOfferCargoCollection</a></code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><strong><a href="#BookingOfferCargos()">BookingOfferCargos</a></strong>()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;<a href='https://docs.groovy-lang.org/latest/html/api/groovy/lang/Tuple2.html' title='Tuple2'>Tuple2</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/Quantity.html' title='Quantity'>Quantity</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/quantity/Mass.html' title='Mass'>Mass</a>&gt;, BigDecimal&gt;</code></td>
                            <td class="colLast"><code><strong><a href="#calculateTotalsForCargoCollectionAddition(Collection, Collection)">calculateTotalsForCargoCollectionAddition</a></strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd)</code><br>Calculates commodity weight and container TEU count totals of the existing consolidated cargo collection if additional cargo collection is added to it.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;boolean</code></td>
                            <td class="colLast"><code><strong><a href="#canAcceptCargoCollectionAddition(Collection, Collection, org.klokwrk.cargotracking.domain.model.service.MaxAllowedTeuCountPolicy)">canAcceptCargoCollectionAddition</a></strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd, <a href='../../../../../../org/klokwrk/cargotracking/domain/model/service/MaxAllowedTeuCountPolicy.html'>MaxAllowedTeuCountPolicy</a> maxAllowedTeuCountPolicy)</code><br>Checks if we can accept addition of a <a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a> collection at the existing cargo collection in compliance with the current <a href='../../../../../../org/klokwrk/cargotracking/domain/model/service/MaxAllowedTeuCountPolicy.html' title='MaxAllowedTeuCountPolicy'>MaxAllowedTeuCountPolicy</a>.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#checkIfCargoCollectionIsConsolidated(Collection)">checkIfCargoCollectionIsConsolidated</a></strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection)</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt;</code></td>
                            <td class="colLast"><code><strong><a href="#consolidateCargoCollectionsForCargoAddition(Collection, Collection)">consolidateCargoCollectionsForCargoAddition</a></strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargos, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargosToAdd)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a></code></td>
                            <td class="colLast"><code><strong><a href="#findCargoByEquality(org.klokwrk.cargotracking.domain.model.aggregate.BookingOfferCargoEquality)">findCargoByEquality</a></strong>(<a href='../../../../../../org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferCargoEquality.html'>BookingOfferCargoEquality</a> cargoEquality)</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a></code></td>
                            <td class="colLast"><code><strong><a href="#findCargoByExample(org.klokwrk.cargotracking.domain.model.value.Cargo)">findCargoByExample</a></strong>(<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a> cargoExample)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/Quantity.html' title='Quantity'>Quantity</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/quantity/Mass.html' title='Mass'>Mass</a>&gt;</code></td>
                            <td class="colLast"><code><strong><a href="#getTotalCommodityWeight()">getTotalCommodityWeight</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../../BigDecimal.html'>BigDecimal</a></code></td>
                            <td class="colLast"><code><strong><a href="#getTotalContainerTeuCount()">getTotalContainerTeuCount</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#storeCargoCollectionAddition(Collection)">storeCargoCollectionAddition</a></strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd)</code><br>Stores the cargo collection addition in the internal map by replacing any previously stored equivalent cargos.
 </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html' title='Object'>Object</a></code></td>
                            <td class="colLast"><code><a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)' title='equals'>equals</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()' title='toString'>toString</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()' title='hashCode'>hashCode</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()' title='getClass'>getClass</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()' title='notify'>notify</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()' title='notifyAll'>notifyAll</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)' title='wait'>wait</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long, int)' title='wait'>wait</a>, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()' title='wait'>wait</a></code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="bookingOfferCargoCollection"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; <strong>bookingOfferCargoCollection</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="BookingOfferCargos()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>BookingOfferCargos</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="calculateTotalsForCargoCollectionAddition(Collection, Collection)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;<a href='https://docs.groovy-lang.org/latest/html/api/groovy/lang/Tuple2.html' title='Tuple2'>Tuple2</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/Quantity.html' title='Quantity'>Quantity</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/quantity/Mass.html' title='Mass'>Mass</a>&gt;, BigDecimal&gt; <strong>calculateTotalsForCargoCollectionAddition</strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd)</h4>
                                <p> Calculates commodity weight and container TEU count totals of the existing consolidated cargo collection if additional cargo collection is added to it.
 <p/>
 The method returns a tuple of 2 where value v1 is the new <CODE>totalCommodityWeight</CODE> and value v2 is the new <CODE>totalContainerTeuCount</CODE>.
 <p/>
 Before executing this method from the command handler, one should check if cargo can be accepted at all according to the current MaxAllowedTeuCountPolicy. One can use
 <a href='#canAcceptCargoCollectionAddition(java.util.Collection, java.util.Collection, org.klokwrk.cargotracking.domain.model.service.MaxAllowedTeuCountPolicy)'>canAcceptCargoCollectionAddition(Collection, Collection, MaxAllowedTeuCountPolicy)</a> for that purpose.</p>
                            </li>
                        </ul>
                    
                        <a name="canAcceptCargoCollectionAddition(Collection, Collection, org.klokwrk.cargotracking.domain.model.service.MaxAllowedTeuCountPolicy)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;boolean <strong>canAcceptCargoCollectionAddition</strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd, <a href='../../../../../../org/klokwrk/cargotracking/domain/model/service/MaxAllowedTeuCountPolicy.html'>MaxAllowedTeuCountPolicy</a> maxAllowedTeuCountPolicy)</h4>
                                <p> Checks if we can accept addition of a <a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a> collection at the existing cargo collection in compliance with the current <a href='../../../../../../org/klokwrk/cargotracking/domain/model/service/MaxAllowedTeuCountPolicy.html' title='MaxAllowedTeuCountPolicy'>MaxAllowedTeuCountPolicy</a>.
 <p/>
 Consider an example. The largest ship in the world can carry 24000 TEU of containers. Based on that fact, we can limit the total container TEU count per a single booking to the max of 5000 TEUs.
 Of course, the number of 5000 TEUs is entirely arbitrary and is used only as an example.
 <p/>
 We could enrich behavior with two different policies here. For example, one limiting container TEU count per commodity type and another limiting container TEU count for the whole booking. In a
 simpler case, both policies can be the same. We can allocate full booking capacity with a single commodity type in that case.
 <p/>
 Intended to be used to verify potential cargo addition at the level of the <a href='../../../../../../org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferAggregate.html' title='BookingOfferAggregate'>BookingOfferAggregate</a> instance.
 <p/>
 We should use this method from the aggregate's command handlers to check if it is valid to add the cargo collection to the aggregate state. Actual state change happens later in the
 event sourcing handler. Note that we cannot make this check in the event sourcing handler because it must make changes unconditionally to support rehydration from past events.</p>
                            </li>
                        </ul>
                    
                        <a name="checkIfCargoCollectionIsConsolidated(Collection)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;void <strong>checkIfCargoCollectionIsConsolidated</strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargoCollection)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="consolidateCargoCollectionsForCargoAddition(Collection, Collection)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; <strong>consolidateCargoCollectionsForCargoAddition</strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; existingConsolidatedCargos, <a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargosToAdd)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="findCargoByEquality(org.klokwrk.cargotracking.domain.model.aggregate.BookingOfferCargoEquality)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a> <strong>findCargoByEquality</strong>(<a href='../../../../../../org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferCargoEquality.html'>BookingOfferCargoEquality</a> cargoEquality)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="findCargoByExample(org.klokwrk.cargotracking.domain.model.value.Cargo)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a> <strong>findCargoByExample</strong>(<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html'>Cargo</a> cargoExample)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getTotalCommodityWeight()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/Quantity.html' title='Quantity'>Quantity</a>&lt;<a href='https://docs.oracle.com/en/java/javase/21/docs/api/javax/measure/quantity/Mass.html' title='Mass'>Mass</a>&gt; <strong>getTotalCommodityWeight</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getTotalContainerTeuCount()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../../../BigDecimal.html'>BigDecimal</a> <strong>getTotalContainerTeuCount</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="storeCargoCollectionAddition(Collection)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>storeCargoCollectionAddition</strong>(<a href='https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html' title='Collection'>Collection</a>&lt;<a href='../../../../../../org/klokwrk/cargotracking/domain/model/value/Cargo.html' title='Cargo'>Cargo</a>&gt; cargoCollectionToAdd)</h4>
                                <p> Stores the cargo collection addition in the internal map by replacing any previously stored equivalent cargos.
 <p/>
 We should use this method only from the event sourcing handler as it changes the aggregate state and does it unconditionally without checking any invariants. This is necessary to support correct
 rehydration of the aggregate from previous events. We should do all invariant checking in the aggregate's command handler.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../../index.html?org/klokwrk/cargotracking/domain/model/aggregate/BookingOfferCargos" target="_top">Frames</a></li>
            <li><a href="BookingOfferCargos.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
